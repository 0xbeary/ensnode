---
title: Configuring ENSRainbow
description: Environment variables and configuration options for ENSRainbow deployments.
sidebar:
  label: Configuration
  order: 4
---

ENSRainbow can be configured via environment variables.

## Environment Variables

### Server Configuration

- `PORT`: Server port (default: 3223)
- `LOG_LEVEL`: Logging level, one of: "debug", "info", "warn", "error" (default: "info")

### Data Management (Docker Only)

The following environment variables are required when running ENSRainbow with Docker for initial ENSRainbow database download and are used by the entrypoint script.

- **`ENSRAINBOW_LABELSET_SERVER_URL`**: The base URL of the ENSRainbow Labelset Server.
  - **Goal**: To decentralize data sourcing. This allows any user to host their own pre-built ENSRainbow databases and configure their application to use them.
  - **Configuration**: Set this to the base URL of your chosen server. Defaults to `https://bucket.ensrainbow.io`.

- **`DB_SCHEMA_VERSION`**: Specifies the database schema version (e.g., `3`). This determines the format and structure of the pre-built ENSRainbow database archives and is not related to the API version.
  - **Goal**: Ensures compatibility between the ENSRainbow software and the structure of downloaded database files that are prebuilt for startup-time optimizations.
  - **Configuration**: It is strongly recommended to use the latest available schema version unless you have specific compatibility requirements.

- **`LABEL_SET_ID`**: The identifier for a **label set**, which is a collection of ENS labelhash-to-label mappings from a specific source.
  - **Goal**: To enable the extensible definition of new label sets (e.g., subgraph vs. production vs. test).
  - **Configuration**: Choose the label set ID that matches your needs: 
    - `subgraph` - Main production dataset from The Graph's ENS Subgraph
    - `searchlight` - Extended dataset with additional label discoveries
    - `discoveryA` - Dataset for dynamically discovered labels (initially empty)
    - `ens-test-env` - Small test dataset for development and testing. It is perfectly aligned with the set of labels expected by the [ens-test-env](https://github.com/ensdomains/ens-test-env).

- **`LABEL_SET_VERSION`**: A non-negative integer representing the version of a **label set**.
  - **Goal**: To support the deterministic evolution of datasets over time, allowing services to achieve reproducible results.
  - **Configuration**: Use the highest available version number for the most up-to-date data. Versions are sequential and incremental:
    - `0` - The initial/base version of the **label set**.
    - `1`, `2`, etc. - Incremental updates to the **label set**.

### Example Combinations

```bash
# Latest production data
DB_SCHEMA_VERSION=3 LABEL_SET_ID=subgraph LABEL_SET_VERSION=0

# The ens-test-env data
DB_SCHEMA_VERSION=3 LABEL_SET_ID=ens-test-env LABEL_SET_VERSION=0

# Extended discovery data
DB_SCHEMA_VERSION=3 LABEL_SET_ID=searchlight LABEL_SET_VERSION=0
```

:::note[Environment Variables Usage]
The data management environment variables (`ENSRAINBOW_LABELSET_SERVER_URL`, `DB_SCHEMA_VERSION`, `LABEL_SET_ID`, `LABEL_SET_VERSION`) are only required for Docker deployments and are used by the container's entrypoint script to download the appropriate pre-built database archive on first run.
:::
