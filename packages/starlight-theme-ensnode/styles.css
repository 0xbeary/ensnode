:root,
::backdrop {
  /* Primary ENS Colors */
  --sl-color-bg: #f6f6f6; /* ENS white for light mode */
  --ens-blue: #0080bc;
  --ens-light-blue: #cee1e8;
  --ens-dark-blue: #011a25;
  --ens-white: #f6f6f6;

  /* Extended ENS Colors */
  --ens-green: #007c23;
  --ens-magenta: #f53293;
  --ens-yellow: #fff72f;
  --ens-dark-brown: #674d49;
  --ens-light-green: #c5ddcc;
  --ens-light-magenta: #f2c4da;
  --ens-light-yellow: #f8f6d6;
  --ens-midnight-blue: #093c52;
  --ens-gray: #4a5c63;
  --ens-gray-3: #c4c7c8;
  --ens-gray-2: #e5e5e5;

  /* Improved contrast for hairlines/borders */
  --sl-color-hairline-shade: var(--ens-gray-3);
  --sl-color-hairline: var(--ens-gray-3);
  --sl-color-hairline-light: var(--ens-gray-2);

  /* Base theme adjustments */
  --sl-hue-base: 203; /* Adjusted to blue hue */
  --sl-color-white: #f6f6f6;
  --sl-color-gray-1: #e5e5e5;
  --sl-color-gray-2: #c4c7c8;
  --sl-color-gray-3: oklch(44% 0.013 var(--sl-hue-base));
  --sl-color-gray-4: oklch(66% 0.013 var(--sl-hue-base));
  --sl-color-gray-5: #4a5c63;
  --sl-color-gray-6: oklch(90% 0.004 var(--sl-hue-base));
  --sl-color-gray-7: oklch(96% 0.003 var(--sl-hue-base));
  --sl-color-black: var(--ens-dark-blue);

  /* Primary brand color - blue */
  --sl-hue-blue: 203;
  --sl-color-blue-low: #cee1e8;
  --sl-color-blue: #0080bc;
  --sl-color-blue-high: #093c52;
  --sl-color-blue-accent: #011a25;
  --sl-color-blue-accent-invert: #0080bc;
  --sl-color-blue-alt: #cee1e8;
  --sl-color-blue-alt-invert: #093c52;

  /* Secondary color - green */
  --sl-hue-green: 150;
  --sl-color-green-low: #c5ddcc;
  --sl-color-green: #007c23;
  --sl-color-green-high: oklch(43% 0.09 var(--sl-hue-green));
  --sl-color-green-accent: #007c23;
  --sl-color-green-accent-invert: oklch(50% 0.1 var(--sl-hue-green));

  /* Secondary color - magenta (replaces purple) */
  --sl-hue-purple: 340;
  --sl-color-purple-low: #f2c4da;
  --sl-color-purple: #f53293;
  --sl-color-purple-high: oklch(40% 0.102 var(--sl-hue-purple));
  --sl-color-purple-accent: oklch(35% 0.1 var(--sl-hue-purple));
  --sl-color-purple-accent-invert: #f53293;
  --sl-color-purple-alt: #f2c4da;
  --sl-color-purple-alt-invert: oklch(77% 0.05 var(--sl-hue-purple));

  /* Secondary color - yellow (replaces orange) */
  --sl-hue-orange: 60;
  --sl-color-orange-low: #f8f6d6;
  --sl-color-orange: #fff72f;
  --sl-color-orange-high: #674d49;
  --sl-color-orange-accent: #674d49;
  --sl-color-orange-accent-invert: #fff72f;
  --sl-color-orange-alt: #f8f6d6;
  --sl-color-orange-alt-invert: #674d49;

  /* Error color - using a red tone */
  --sl-hue-red: 13;
  --sl-color-red-low: oklch(95% 0.01 var(--sl-hue-red));
  --sl-color-red: oklch(66% 0.15 var(--sl-hue-red));
  --sl-color-red-high: oklch(42% 0.13 var(--sl-hue-red));
  --sl-color-red-accent: oklch(38% 0.15 var(--sl-hue-red));
  --sl-color-red-accent-invert: oklch(52% 0.2 var(--sl-hue-red));
  --sl-color-red-alt: oklch(94% 0.02 var(--sl-hue-red));
  --sl-color-red-alt-invert: oklch(78% 0.04 var(--sl-hue-red));

  /* Primary accent color - set to ENS blue */
  --sl-hue-accent: 203;
  --sl-color-accent-low: #cee1e8;
  --sl-color-accent: #0080bc;
  --sl-color-accent-high: #093c52;

  /* Improved text colors */
  --sl-color-text: var(--ens-dark-blue);
  --sl-color-text-accent: var(--ens-blue);
  --sl-color-text-muted: var(--ens-gray);
  --sl-color-text-invert: var(--ens-white);

  /* UI Components */
  --sl-color-bg-nav: var(--ens-white);
  --sl-color-bg-sidebar: var(--ens-white);
  --sl-color-backdrop-overlay: oklch(84% 0.003 var(--sl-hue-base) / 0.7);

  /* Sidebar improvements */
  --sl-color-text-sidebar: var(--ens-gray);
  --sl-color-text-sidebar-active: var(--ens-blue);
  --sl-color-bg-sidebar-hover: var(--ens-light-blue);
  --sl-color-border-sidebar: var(--ens-gray-3);

  /* Typography */
  --sl-text-h1: var(--sl-text-3xl);
  --sl-text-h2: var(--sl-text-2xl);
  --sl-text-h3: var(--sl-text-xl);
  --sl-text-h4: var(--sl-text-lg);
  --sl-text-h5: unset;

  /* UI Elements */
  --sl-ensnode-ui-bg-color: #f6f6f6;
  --sl-ensnode-ui-header-bg-color: var(--ens-white);
  --sl-ensnode-ui-border-color: var(--ens-gray-3);

  --sl-ensnode-ec-marker-bg-color: #e5e5e5;
  --sl-ensnode-ec-marker-border-color: #4a5c63;

  /* Code blocks */
  sidebar-content a[aria-current="page"] {
    color: var(--sl-color-text-sidebar-active);
    background-color: var(--sl-color-bg-sidebar-hover);
  }
}

/* Search */
@keyframes sl-ensnode-search-backdrop-fade {
  from {
    -webkit-backdrop-filter: initial;
    backdrop-filter: initial;
    background-color: transparent;
  }

  to {
    -webkit-backdrop-filter: blur(0.25rem);
    backdrop-filter: blur(0.25rem);
    background-color: var(--sl-color-backdrop-overlay);
  }
}

@keyframes sl-ensnode-search-dialog-zoom-in {
  from {
    opacity: 0;
    transform: scale(0.5) translateY(-2rem);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

site-search dialog {
  background-color: var(--ens-gray-2);
  box-shadow: none;
  min-height: auto;
  border: 1px solid var(--sl-color-hairline);
}

site-search button {
  margin-left: auto;
  background-color: var(--ens-white);
}

site-search dialog {
  background-color: var(--ens-white);
}

site-search dialog .dialog-frame {
  padding: 1rem;
}

site-search dialog #starlight__search {
  --sl-search-corners: calc(0.5rem * var(--pagefind-ui-scale));
  --pagefind-ui-border-radius: calc(0.5rem * var(--pagefind-ui-scale));
}

site-search dialog .pagefind-ui .pagefind-ui__search-input {
  background-color: var(--sl-ensnode-ui-bg-color);
  border: 1px solid var(--sl-color-hairline);
  color: var(--sl-color-text);
}

/* Code block improvements */
pre,
code {
  border-color: var(--sl-color-code-border);
  background-color: var(--sl-color-code-bg);
  color: var(--sl-color-code-text);
}
